---
import AdminLayout from '../../layouts/AdminLayout.astro';
import AnalyticsDashboard from '../../components/admin/AnalyticsDashboard';
import ClientManager from '../../components/admin/ClientManager';
import NotificationCenter from '../../components/admin/NotificationCenter';
---

<AdminLayout>
  <div class="space-y-6">
    <!-- Header con Notificaciones -->
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-3xl font-bold text-white">Dashboard</h1>
        <p class="text-tech-300">Bienvenido al panel de administración</p>
      </div>
      <div class="flex items-center space-x-4">
        <NotificationCenter client:load />
      </div>
    </div>

    <!-- Analytics Dashboard -->
    <div id="analytics-root"></div>

    <!-- Gestión de Clientes -->
    <div id="clients-root"></div>
  </div>
</AdminLayout>

<script>
  import React from 'react';
  import { createRoot } from 'react-dom/client';

  // Esperar a que el DOM esté completamente cargado
  document.addEventListener('DOMContentLoaded', () => {
    // Inicializar Analytics Dashboard
    const analyticsContainer = document.getElementById('analytics-root');
    if (analyticsContainer) {
      const analyticsRoot = createRoot(analyticsContainer);
      analyticsRoot.render(React.createElement(AnalyticsDashboard));
    }

    // Inicializar Client Manager
    const clientsContainer = document.getElementById('clients-root');
    if (clientsContainer) {
      const clientsRoot = createRoot(clientsContainer);
      clientsRoot.render(React.createElement(ClientManager));
    }
  });
</script> 