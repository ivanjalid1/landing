---
import { translations } from '../i18n/translations.js';
import { extractLanguageFromUrl } from '../middleware/i18n.js';

// Detectar idioma actual
const currentLang = extractLanguageFromUrl(Astro.url.pathname);
const t = translations[currentLang as keyof typeof translations];
---

<section class="relative py-24 overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-slate-50" id="contact" style="opacity: 1 !important; visibility: visible !important;">
  <!-- Background Elements -->
  <div class="absolute inset-0">
    <div class="absolute top-0 left-1/4 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-slate-500/5 rounded-full blur-2xl"></div>
  </div>

  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16" style="opacity: 1 !important;">
      <div class="inline-flex items-center px-4 py-2 rounded-full bg-white/80 backdrop-blur-sm border border-slate-200 mb-6">
        <span class="w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full mr-2"></span>
        <span class="text-slate-700 text-sm font-medium">
          {currentLang === 'es' ? 'Contacto Directo' : 
           currentLang === 'en' ? 'Direct Contact' : 
           '–ü—Ä—è–º–æ–π –ö–æ–Ω—Ç–∞–∫—Ç'}
        </span>
      </div>
      <h2 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-slate-800 mb-6 leading-tight" style="opacity: 1 !important;">
        {currentLang === 'es' ? (
          <>¬øListo para <span class="bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent">Escalar</span> tu Negocio?</>
        ) : currentLang === 'en' ? (
          <>Ready to <span class="bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent">Scale</span> your Business?</>
        ) : (
          <>–ì–æ—Ç–æ–≤—ã <span class="bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent">–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å</span> –≤–∞—à –ë–∏–∑–Ω–µ—Å?</>
        )}
      </h2>
      <p class="text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed mb-8" style="opacity: 1 !important;">
        {currentLang === 'es' ? '√önete a cientos de empresas que ya han transformado su marketing digital con nuestras soluciones premium' :
         currentLang === 'en' ? 'Join hundreds of companies that have already transformed their digital marketing with our premium solutions' :
         '–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–æ—Ç–Ω—è–º –∫–æ–º–ø–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏ —Å–≤–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å –Ω–∞—à–∏–º–∏ –ø—Ä–µ–º–∏—É–º —Ä–µ—à–µ–Ω–∏—è–º–∏'}
      </p>
    </div>

    <!-- Main CTA Card -->
    <div class="relative max-w-4xl mx-auto" style="opacity: 1 !important;">
      {/* Card Background */}
      <div class="absolute inset-0 bg-white/80 rounded-3xl border border-slate-200 backdrop-blur-xl shadow-2xl"></div>
      
      {/* Card Content */}
      <div class="relative p-12 text-center">
        {/* Icon */}
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 mb-8 shadow-lg">
          <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
          </svg>
        </div>

        {/* Title */}
        <h3 class="text-3xl font-bold text-slate-800 mb-4" style="opacity: 1 !important;">
          {currentLang === 'es' ? 'Respuesta Inmediata Garantizada' : 
           currentLang === 'en' ? 'Guaranteed Immediate Response' : 
           '–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –û—Ç–≤–µ—Ç'}
        </h3>
        
        {/* Description */}
        <p class="text-lg text-slate-600 mb-8 max-w-2xl mx-auto" style="opacity: 1 !important;">
          {currentLang === 'es' ? 'Nuestro equipo de expertos est√° disponible 24/7 para resolver todas tus consultas y ayudarte a implementar la mejor estrategia para tu negocio.' :
           currentLang === 'en' ? 'Our team of experts is available 24/7 to resolve all your queries and help you implement the best strategy for your business.' :
           '–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–∞ 24/7 –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö –≤–∞—à–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–º–æ—â–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª—É—á—à–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞.'}
        </p>

        {/* Features */}
        <div class="grid md:grid-cols-3 gap-6 mb-10" style="opacity: 1 !important;">
          <div class="flex items-center justify-center space-x-3 text-slate-700">
            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
            </div>
            <span class="font-medium">
              {currentLang === 'es' ? 'Respuesta inmediata' : 
               currentLang === 'en' ? 'Immediate response' : 
               '–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç'}
            </span>
          </div>
          <div class="flex items-center justify-center space-x-3 text-slate-700">
            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
            </div>
            <span class="font-medium">
              {currentLang === 'es' ? 'Soporte 24/7' : 
               currentLang === 'en' ? '24/7 Support' : 
               '24/7 –ü–æ–¥–¥–µ—Ä–∂–∫–∞'}
            </span>
          </div>
          <div class="flex items-center justify-center space-x-3 text-slate-700">
            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
            </div>
            <span class="font-medium">
              {currentLang === 'es' ? 'Consultor√≠a gratuita' : 
               currentLang === 'en' ? 'Free consultation' : 
               '–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è'}
            </span>
          </div>
        </div>

        {/* Additional Info */}
        <div class="mb-8 text-center">
          <p class="text-slate-500 text-sm" style="opacity: 1 !important;">
            üí≥ {currentLang === 'es' ? 'Aceptamos VISA, Wise, Payoneer, Transferencia Bancaria, IBAN' :
                currentLang === 'en' ? 'We accept VISA, Wise, Payoneer, Bank Transfer, IBAN' :
                '–ü—Ä–∏–Ω–∏–º–∞–µ–º VISA, Wise, Payoneer, –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥, IBAN'}
          </p>
        </div>

        {/* Hover Effects */}
        <div class="absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        <div class="absolute -inset-1 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-3xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
      </div>
    </div>

    <!-- Main CTA Button (fuera de la card) -->
    <div class="mt-12 text-center" style="opacity: 1 !important;">
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <button class="elegant-button-cta inline-flex items-center">
          <span class="relative z-10 drop-shadow-lg">
            {currentLang === 'es' ? 'üöÄ Cont√°ctanos Ahora' : 
             currentLang === 'en' ? 'üöÄ Contact Us Now' : 
             'üöÄ –°–≤—è–∂–∏—Ç–µ—Å—å —Å –ù–∞–º–∏ –°–µ–π—á–∞—Å'}
          </span>
        </button>
        
        <div class="flex items-center space-x-2 text-slate-500">
          <div class="flex -space-x-2">
            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 border-2 border-white"></div>
            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-emerald-500 border-2 border-white"></div>
            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-pink-500 to-cyan-500 border-2 border-white"></div>
          </div>
          <span class="text-sm">
            {currentLang === 'es' ? '+500 clientes activos' : 
             currentLang === 'en' ? '+500 active clients' : 
             '+500 –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤'}
          </span>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Forzar visibilidad del CTA */
  #contact {
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
  }
  
  #contact * {
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fade-in 0.8s ease-out forwards;
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
  }
</style> 